# 图的表示

## 补充

1. 对于图 `G = (V, E)`，`V` 为图中所有节点的集合，`E` 为图中所有边的集合

2. `稀疏图`：边的条数 `|E|` 远远小于 `|V|²` 的图

3. `稠密图`：边的条数 `|E|` 接近 `|V|²` 的图

## 一、邻接矩阵

### 摘要

- 数组 `w[u][v]` 用于储存从节点 `u` 到节点 `v` 的边的 `边权w`

- 时间复杂度 `O(n²)` ，空间复杂度 `O(n²)`

- 应用：只在点数不多的 `稠密图` 中使用

### 建边

- 利用数组 `w[u][v]`

```cpp
//初始化
int w[N][N];

//创建一条由 a 指向 b, 边权为 x 的边
void add(int a, int b, int x)
{
    w[a][b] = x;
}
```

## 二、邻接链表

### 摘要

- 边集数组 `e[j]` 存储第 `j` 条边的 `{起点 u, 终点 v, 边权 w}`

- 表头数组 `h[u][i]` 存储 `u` 点的所有出边编号

- 时间复杂度 `O(n + m)` ，空间复杂度 `O(n + m)`

- 应用：各种图，能处理反向边

### 建边

- 利用尾插法建边

```cpp
//初始化
struct edge
{
    int u, v, w;
};

vector<edge> e; //边集
vector<int> h[N]; //所有出边

//尾插法建边
void add(int a, int b, int x)
{
    e.push_back({a, b, x}); //在边集中添加一条边
    h[a].push_back(e.size() - 1); //给节点 a 添加一条出边
}

//注意：这里的 e.size() - 1 为当前边的编号，也就是新加入的边在边集 e 中的下标，我们通过这个下标来从 e 访问边的属性
```

## 三、链式前向星

### 摘要

- 一个表头悬挂多个链表

- 边集数组 `e[i]` 存储第 `i` 条出边的 `{终点 v, 边权 w, 下一条边 ne}`

- 表头数组 `h[u]` 存储 `u` 节点的第一条出边的编号

- 边的编号 `idx` 可取 `0, 1, 2, 3 ......`

- 时间复杂度 `O(n + m)`，空间复杂度 `O(n + m)`

- 应用：各种图，能处理反向边

### 建边

- 利用头插法建边

```cpp
//初始化
struct edge
{
    int v, w, ne;
};

edge e[M]; //边集
int idx, h[N]; //点的第一条出边

//头插法建边
void add(int a, int b, int x)
{
    e[idx] = {b, c, h[a]}; //给编号为 idx 的边附加属性
    h[a] = idx++; //改变点 a 的第一条出边
}

//这里使用的是链表的头插法，不明白的可以去了解一下链表添加节点的操作，这里不加以解释
```
